import org.apache.commons.lang3.builder.EqualsBuilder;

public void deletePurgeConfig(String id, PurgeConfigurationObj deletionPurgeConfig) throws Exception {
    Optional<ArchPurgeConfiguration> entity = this.purgeRepo.findById(Long.valueOf(id));

    if (entity.isEmpty()) {
        log.error("Data not available to delete for id={}", id);
        throw new Exception("Data not available to delete for id=" + id);
    }

    ArchPurgeConfiguration entityObj = entity.get();

    // Compare objects while ignoring specific fields
    boolean isEqual = EqualsBuilder.reflectionEquals(entityObj, deletionPurgeConfig, 
        "id", "createdAt", "updatedAt"); // Fields to ignore

    if (!isEqual) {
        throw new Exception("Deletion failed: Data mismatch found!");
    }

    // Proceed with deletion
    this.purgeRepo.deleteById(Long.valueOf(id));
    log.debug("Record deleted successfully for id {}", id);
}