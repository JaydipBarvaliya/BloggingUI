when(purgeService.getPurgeConfig(eq(id)))
    .thenThrow(new RuntimeException(new SharedServiceLayerException(
        BesigopsapiUtil.buildBadRequestStatus(), "DB failure"
    )));


RuntimeException ex = assertThrows(RuntimeException.class,
        () -> delegate.getPurgeConfig(id));

assertTrue(ex.getCause() instanceof SharedServiceLayerException);
assertEquals("DB failure", ex.getCause().getMessage());