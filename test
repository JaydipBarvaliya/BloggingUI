@Test
void test_getArchivalFileNetConfigList_shouldMapEntityToDto() {
    String lobId = "LOB123";

    ArchFileNetConfig mockEntity = new ArchFileNetConfig();
    ArchivalFileNetConfigObj mappedDto = new ArchivalFileNetConfigObj();

    // Create a spy of the service
    ArchivalFilenetConfigService spyService = Mockito.spy(new ArchivalFilenetConfigService(repo));

    // Stub repository and entityToDto on the same spy
    when(repo.findAll(any())).thenReturn(List.of(mockEntity));
    doReturn(mappedDto).when(spyService).entityToDto(mockEntity);

    // Act
    List<ArchivalFileNetConfigObj> result = spyService.getArchivalFileNetConfigList(lobId);

    // Assert
    assertEquals(1, result.size());
    assertSame(mappedDto, result.get(0));
}