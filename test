@Test
void test_deleteConfig_shouldThrowException_whenConfigMismatch() {
    // Arrange
    String id = "101";

    // DB object returned by service
    Configuration configFromDB = new Configuration();
    configFromDB.setId(1L);  // db ID

    // Input object to delete (intentionally mismatched)
    ConfigurationObj input = new ConfigurationObj();
    input.setId(2L);  // different ID -> mismatch

    // Expected mapped result from mapper (simulate it manually)
    ConfigurationObj mapped = new ConfigurationObj();
    mapped.setId(1L);  // same as DB to match DAL behavior

    // Mock configurationService call only
    when(configurationService.findByConfigId(Long.valueOf(id))).thenReturn(configFromDB);

    // Spy the service to override the static mapper call if needed
    ConfigurationOpsApiService spyService = Mockito.spy(configurationOpsApiService);
    doReturn(mapped).when(spyService).mapConfigToOpenAPI(configFromDB); // create this wrapper method if needed

    // Act & Assert
    SharedServiceLayerException ex = assertThrows(
        SharedServiceLayerException.class,
        () -> spyService.deleteConfig(id, input)
    );

    assertTrue(ex.getMessage().contains("Unable to delete config"));
}