@Test
void test_createArchivalFileNetConfig_success() throws Exception {
    ArchivalFileNetConfigObj input = new ArchivalFileNetConfigObj();
    ArchFileNetConfigDto dto = new ArchFileNetConfigDto();
    ArchFileNetConfig entity = new ArchFileNetConfig();

    // mock mapper and repo
    ArchivalFilenetConfigService spyService = Mockito.spy(archivalFilenetConfigService);
    doReturn(dto).when(spyService).configToDto(input);
    doReturn(entity).when(spyService).dtoToEntity(dto);
    when(filenetConfigRepository.saveAndFlush(entity)).thenReturn(entity);
    doReturn(input).when(spyService).entityToDto(entity);

    ArchivalFileNetConfigObj result = spyService.createArchivalFileNetConfig(input);

    assertNotNull(result);
    assertEquals(input, result);
}